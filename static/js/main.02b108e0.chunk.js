(this.webpackJsonpphishapp=this.webpackJsonpphishapp||[]).push([[0],{33:function(e,t,a){},65:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(25),c=a.n(r),i=(a(33),a(65),a(7)),o=a(8),l=a(10),h=a(9),u=a(14),d=a(1),j=function(e){return Object(d.jsxs)(u.b,{to:"/PhishApp/years/".concat(e.year),style:{color:"white"},className:"btn btn-primary home-year",children:[Object(d.jsx)("div",{className:"home-year-item",children:e.year})," "]})},b=a(6),p=a(17),O="SET_YEARS",v="FETCH_YEARS",x="SET_SHOWS",f="FETCH_SHOWS",m="SET_TOURS",g="FETCH_TOURS",y="SET_YEAR",w="API",N="API_START",k="API_END";function S(e){return{type:m,payload:e}}function L(e){return{type:x,payload:e}}function A(e){return{type:O,payload:e}}var E={toursAction:{getTours:function(e){return function(e){var t=e.url,a=void 0===t?"":t,n=e.method,s=void 0===n?"GET":n,r=e.data,c=void 0===r?null:r,i=e.onSuccess,o=void 0===i?function(){}:i,l=e.onFailure,h=void 0===l?function(){}:l,u=e.label,d=void 0===u?"":u,j=e.headersOverride;return{type:w,payload:{url:a,method:s,data:c,onSuccess:o,onFailure:h,label:d,headersOverride:void 0===j?{headers:{params:{per_page:1e3}}}:j}}}({url:"/tours?page="+e,onSuccess:S,onFailure:function(){return console.log("Error occured loading years")},label:g})},setTours:S},yearsAction:{getYears:function(){return function(e){var t=e.url,a=void 0===t?"":t,n=e.method,s=void 0===n?"GET":n,r=e.data,c=void 0===r?null:r,i=e.onSuccess,o=void 0===i?function(){}:i,l=e.onFailure,h=void 0===l?function(){}:l,u=e.label,d=void 0===u?"":u,j=e.headersOverride;return{type:w,payload:{url:a,method:s,data:c,onSuccess:o,onFailure:h,label:d,headersOverride:void 0===j?null:j}}}({url:"/years?include_show_counts=true",onSuccess:A,onFailure:function(){return console.log("Error occured loading years")},label:v})}},showsAction:{getYearShows:function(e){return function(e){var t=e.url,a=void 0===t?"":t,n=e.method,s=void 0===n?"GET":n,r=e.data,c=void 0===r?null:r,i=e.onSuccess,o=void 0===i?function(){}:i,l=e.onFailure,h=void 0===l?function(){}:l,u=e.label,d=void 0===u?"":u,j=e.headersOverride;return{type:w,payload:{url:a,method:s,data:c,onSuccess:o,onFailure:h,label:d,headersOverride:void 0===j?null:j}}}({url:"/years/"+e,onSuccess:L,onFailure:function(){return console.log("Error occured loading years")},label:f})},setYear:function(e){return{type:y,payload:e}}}},P=function(e){var t=e.data,a=Object(p.b)();return void 0===t?Object(d.jsx)(b.a,{animation:"border"}):t.reverse().map((function(e){return Object(d.jsx)(j,{year:e,onClick:a(E.showsAction.setYear(e))},e)}))},T=a(27),_=a.n(T);_.a.defaults.baseURL="https://phish.in/api/v1",_.a.defaults.headers.common={Authorization:"Bearer 856913ac92a15776365c3c519185fb5a4b0d041f248cbcb6f177c31906fe978345f1d6be08267531b818e52ddd9149f2",Accept:"application/json"};var C=_.a,D=a(97),F=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],yearLinkListItem:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{C.get("/years").then((function(t){e.setState({data:t.data.data,isLoading:!1})}))}catch(t){console.error(t)}}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"hero-image",children:Object(d.jsxs)("div",{className:"hero-text",children:[Object(d.jsx)("h1",{children:"PhishApp"}),Object(d.jsx)("p",{children:"Organized Audience Recordings"})]})}),Object(d.jsx)("div",{children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bg",children:Object(d.jsx)("div",{className:"btn-group",children:Object(d.jsx)(P,{data:this.state.data})})})})})]})}}]),a}(n.Component),R=function(e){return Object(d.jsx)("div",{className:"about-center",children:Object(d.jsxs)("div",{className:"about-text",children:[Object(d.jsx)("div",{className:"text-box",children:"Navigate through the sidebar by year, tour, or song. You may also provide a keyword into the search bar above."}),Object(d.jsxs)("div",{className:"text-box",children:["API provided by"," ",Object(d.jsx)("a",{href:"https://www.phish.in",target:"_top",children:"Phish.in"}),"."]})]})})},I=function(e){var t=e.show,a=t.date,n=t.venue_name,s=t.venue;return Object(d.jsxs)("div",{className:"meta-data",children:[Object(d.jsx)("h2",{className:"field",children:a}),Object(d.jsx)("h2",{className:"field",children:n}),Object(d.jsx)("h2",{className:"field",children:s.location})]})},U=a(29),M=function(e){var t=e.duration,a=e.setKey,n="";return n="E"===a||"e"===a?Object(d.jsx)("h6",{className:"set-header-field",children:"Encore"}):Object(d.jsxs)("h6",{className:"set-header-field",children:["Set ",a]}),Object(d.jsxs)("div",{className:"set-header",children:[n,Object(d.jsxs)("h6",{className:"set-header-field-length",children:["Length: ",t]})]})},Y=a(31),V=function(e){var t,a=e.track,s=e.duration,r=function(e){var t=Object(n.useState)(new Audio(e)),a=Object(Y.a)(t,1)[0],s=Object(n.useState)(!1),r=Object(Y.a)(s,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){c?a.play():a.pause()}),[c]),Object(n.useEffect)((function(){return a.addEventListener("ended",(function(){return i(!1)})),function(){a.removeEventListener("ended",(function(){return i(!1)}))}}),[]),[c,function(){return i(!c)}]}(e.url),c=Object(Y.a)(r,2),i=c[0],o=c[1];return t=i?"list-group-item list-group-item-action active":"list-group-item list-group-item-action",Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"button",className:t,onClick:o,children:Object(d.jsxs)("div",{className:"track-info-name-length",children:[Object(d.jsx)("div",{className:"track-info-pos",children:a.position}),Object(d.jsx)("div",{className:"track-info-title",children:a.title}),Object(d.jsx)("div",{className:"track-info-length",children:s})]})})})},z=function(e){var t=e.track,a=new Date(null);a.setMilliseconds(t.duration);var n=a.toISOString().substr(14,5);return Object(d.jsx)(V,{track:t,duration:n,url:t.mp3})},H=function(e){var t=e.tracks,a=e.setKey;return t.filter((function(e){return e.set===a})).map((function(e){return Object(d.jsx)(z,{track:e},e.id)}))},K=function(e){var t=e.tracks,a=e.setKey,n=t.filter((function(e){return e.set===a})),s=n.reduce((function(e,t){return e+t.duration}),0),r=new Date(null);r.setMilliseconds(s);var c=r.toISOString().substr(11,8);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(M,{duration:c,setKey:a}),Object(d.jsx)("div",{className:"list-group",children:Object(d.jsx)(H,{tracks:n,setKey:a})})]})},B=function(e){var t=e.show.tracks,a=t.map((function(e){return e.set})),n=Object(U.a)(new Set(a)).map((function(e){return Object(d.jsx)("div",{className:"set-page",children:Object(d.jsx)(K,{tracks:t,setKey:e})},e)}));return Object(d.jsxs)("div",{className:"set-details",children:[Object(d.jsx)("h2",{className:"set-title",children:"Set List"}),n]})},G=function(e){var t=e.show;return Object(d.jsxs)("div",{className:"show-details",children:[Object(d.jsx)("div",{className:"meta",children:Object(d.jsx)(I,{show:t})}),Object(d.jsx)("div",{className:"set-list",children:Object(d.jsx)(B,{show:t})})]})},X=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={show:void 0,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{C.get("shows/"+this.props.match.params.date).then((function(t){console.log(t.data),e.setState({show:t.data.data,isLoading:!1})}))}catch(t){console.error(t)}}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(G,{show:this.state.show})}}]),a}(n.Component),J=a(95),W=function(e){var t=e.year,a=e.showCount,n=Object(p.b)(),s="show";return a>1&&(s="shows"),Object(d.jsx)(u.b,{to:"/PhishApp/years/".concat(t),style:{color:"white"},className:"btn btn-primary ",onClick:function(){return n(E.showsAction.setYear(t))},children:Object(d.jsxs)("div",{className:"year-info",children:[Object(d.jsx)("h5",{className:"year-info-year",children:t}),Object(d.jsx)("div",{className:"year-info-show",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("span",{className:"badge badge-light",children:Object(d.jsxs)("div",{className:"year-info-badge",children:[Object(d.jsx)("div",{className:"year-info-count",children:a}),Object(d.jsxs)("div",{children:[" ",s," "]})]})})})})]})})},q=function(e){var t=e.yearList;return void 0===t?Object(d.jsx)(b.a,{animation:"border"}):t.reverse().map((function(e,t){return Object(d.jsx)(W,{year:e.date,showCount:e.show_count},t)}))},Q=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(o.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(d.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),Z=function(){var e=Object(p.c)((function(e){return e.years.yearList})),t=Object(p.c)((function(e){return e.years.isLoadingData})),a=Object(p.b)();return Object(n.useEffect)((function(){void 0===e&&a(E.yearsAction.getYears())}),[a,e]),t?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(Q,{children:Object(d.jsx)(J.a,{bg:"light",expand:"sm",className:"padding-zero",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(q,{yearList:e})})})})})})},$=a(11),ee=a.n($),te=a(18),ae=function(e){var t=e.tour,a="show";return t.length>1&&(a="shows"),Object(d.jsx)(u.b,{to:"/PhishApp/tours/".concat(t.id),style:{color:"white"},className:"btn btn-primary shows",children:Object(d.jsxs)("div",{className:"year-info",children:[Object(d.jsx)("h5",{className:"year-info-year",children:t.name}),Object(d.jsx)("div",{className:"year-info-show",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("span",{className:"badge badge-light",children:Object(d.jsxs)("div",{className:"year-info-badge",children:[Object(d.jsx)("div",{className:"year-info-count",children:t.shows.length}),Object(d.jsxs)("div",{children:[" ",a," "]})]})})})})]})})},ne=function(e){var t=e.data;return void 0===t?Object(d.jsx)(b.a,{animation:"border"}):t.map((function(e,t){return Object(d.jsx)(ae,{tour:e},t)}))},se=function(e){return e.sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase(),s=0;return a<n&&(s=-1),a>n&&(s=1),s}))},re=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],showLinkListItem:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/tours").then((function(e){t.setState({totalPages:e.data.total_pages+1,totalEntries:e.data.total_entries}),t.getAllTourPages()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllTourPages",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Array.from(Array(this.state.totalPages).keys())).shift(),console.log(t);case 3:return e.prev=3,e.next=6,_.a.all(t.map((function(e){return _.a.get("/tours",{params:{page:e}}).then((function(e){a.setState({data:a.state.data.concat(e.data.data)})}))})));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:if(this.state.data.length<this.state.totalEntries){e.next=3;break}case 12:this.state.isLoading=!1,this.sortTours();case 14:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"sortTours",value:function(){this.setState({data:se(this.state.data)})}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",className:"padding-zero",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(ne,{data:this.state.data})})})})})}}]),a}(n.Component),ce=function(e){return e.sort((function(e,t){var a=e.title.toUpperCase(),n=t.title.toUpperCase(),s=0;return a<n&&(s=-1),a>n&&(s=1),s}))},ie=function(e){return Object(d.jsxs)(u.b,{to:"/PhishApp/songs/".concat(e.song.id),style:{color:"white"},className:"btn btn-primary shows",children:[" ",Object(d.jsx)("h5",{children:e.song.title})," "]})},oe=function(e){var t=e.data;return void 0===t?Object(d.jsx)(b.a,{animation:"border"}):t.map((function(e){return Object(d.jsx)(ie,{song:e},e.id)}))},le=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],tourLinkListItem:null,isLoading:!0,totalPages:null,totalEntries:null,page:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("/songs").then((function(e){t.setState({totalPages:e.data.total_pages+1,totalEntries:e.data.total_entries}),t.getAllSongPages()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllSongPages",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Array.from(Array(this.state.totalPages).keys())).shift(),console.log(t);case 3:return e.prev=3,e.next=6,C.all(t.map((function(e){return C.get("/songs",{params:{page:e}}).then((function(e){a.setState({data:a.state.data.concat(e.data.data)})}))})));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:if(this.state.data.length<this.state.totalEntries){e.next=3;break}case 12:this.state.isLoading=!1,this.sortSongs();case 14:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"sortSongs",value:function(){this.setState({data:ce(this.state.data)})}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",className:"padding-zero",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(oe,{data:this.state.data})})})})})}}]),a}(n.Component),he=function(e){var t="show";return e.venue.shows_count>1&&(t="shows"),Object(d.jsx)(u.b,{to:"/PhishApp/venues/".concat(e.venue.id),style:{color:"white"},className:"btn btn-primary shows",children:Object(d.jsxs)("div",{className:"year-info",children:[Object(d.jsx)("h5",{className:"year-info-year",children:e.venue.name}),Object(d.jsx)("div",{className:"year-info-show",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("span",{className:"badge badge-light",children:Object(d.jsxs)("div",{className:"year-info-badge",children:[Object(d.jsx)("div",{className:"year-info-count",children:e.venue.shows_count}),Object(d.jsxs)("div",{children:[" ",t," "]})]})})})})]})})},ue=function(e){var t=e.data;return void 0===t?Object(d.jsx)(b.a,{animation:"border"}):t.map((function(e){return Object(d.jsx)(he,{venue:e},e.id)}))},de=function(e){return e.sort((function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase(),s=0;return a<n&&(s=-1),a>n&&(s=1),s}))},je=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],yearLinkListItem:null,isLoading:!0,totalPages:null,totalEntries:null,page:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("/venues").then((function(e){t.setState({totalPages:e.data.total_pages+1,totalEntries:e.data.total_entries}),t.getAllVenuePages()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllVenuePages",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Array.from(Array(this.state.totalPages).keys())).shift();case 2:return e.prev=2,e.next=5,C.all(t.map((function(e){return C.get("/venues",{params:{page:e}}).then((function(e){console.log(e.data),a.setState({data:a.state.data.concat(e.data.data)})}))})));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:if(this.state.data.length<this.state.totalEntries){e.next=2;break}case 11:this.state.isLoading=!1,this.sortTours();case 13:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"sortTours",value:function(){this.setState({data:de(this.state.data)})}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",className:"padding-zero",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(ue,{data:this.state.data})})})})})}}]),a}(n.Component),be=function(e){var t=e.show;function a(){return t.hasOwnProperty("date")?t.date:t.show_date}return Object(d.jsx)(u.b,{to:"/PhishApp/shows/"+a(),style:{color:"white"},className:"btn btn-primary shows",children:Object(d.jsxs)("div",{className:"show-info",children:[Object(d.jsxs)("h5",{className:"show-info-year",children:[" ",a()," "]}),Object(d.jsxs)("h5",{className:"show-info-venue",children:[" ",t.hasOwnProperty("venue")?t.venue.name:t.venue_name," "]})]})})},pe=function(e){var t=e.showsList;return 0===t.length?Object(d.jsx)(b.a,{animation:"border"}):t.reverse().map((function(e,t){return Object(d.jsx)(be,{show:e},t)}))},Oe=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isLoading:!0,totalPages:0,searchText:"",exactShow:null,otherShows:[],songs:[],tours:[],searchResults:null,searchOutput:[]},e}return Object(o.a)(a,[{key:"handleSearch",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,n=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,a=0,this.state.searchText=this.props.location.state.searchText;case 3:return e.prev=3,e.next=6,C.get("/search/"+this.state.searchText,{params:{page:++t}}).then((function(e){var t=e.data;console.log(t),n.setState({totalPages:t.total_pages,searchResults:t.data,exactShow:t.data.exact_show,otherShows:t.data.other_shows,songs:t.data.track_tags,tours:t.data.tours,isLoading:!1})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:if(t<a){e.next=3;break}case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"componentDidUpdate",value:function(e){e.location.state.searchText!==this.props.location.state.searchText&&this.handleSearch()}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsxs)("div",{style:{margin:"20px 0px 0px 20px"},children:[Object(d.jsx)("h1",{children:"Your Search Results"}),Object(d.jsx)("ul",{children:Object(d.jsxs)("li",{children:['Search: "',this.state.searchText,'"']})}),null!==this.state.searchResults?Object(d.jsxs)(J.a,{bg:"light",expand:"sm",children:[null!==this.state.exactShow?Object(d.jsxs)(D.a,{children:[Object(d.jsx)("h4",{children:"Exact Show"}),Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(be,{show:this.state.exactShow})})]}):Object(d.jsx)(d.Fragment,{}),this.state.otherShows.length>0?Object(d.jsxs)(D.a,{children:[Object(d.jsx)("h4",{children:"Other Shows on this Day"}),Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(pe,{shows:this.state.otherShows})})})]}):Object(d.jsx)(d.Fragment,{}),this.state.songs.length>0?Object(d.jsxs)(D.a,{children:[Object(d.jsx)("h4",{children:"Matching Songs"}),Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(oe,{data:this.state.songs})})})]}):Object(d.jsx)(d.Fragment,{}),this.state.tours.length>0?Object(d.jsxs)(D.a,{children:[Object(d.jsx)("h4",{children:"Matching Tours"}),Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(ne,{data:this.state.tours})})})]}):Object(d.jsx)(d.Fragment,{})]}):Object(d.jsx)("p",{children:"NO RESULTS FOUND"})]})}}]),a}(n.Component),ve=function(){var e=Object(p.c)((function(e){return e.shows.year})),t=Object(p.c)((function(e){return e.shows.showList})),a=Object(n.useState)(!0),s=Object(Y.a)(a,2),r=s[0],c=s[1],i=Object(p.b)();return Object(n.useEffect)((function(){0===t.length&&i(E.showsAction.getYearShows(e))}),[t,e,i]),Object(n.useEffect)((function(){t&&c(!1)}),[t]),r?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(Q,{children:Object(d.jsx)(J.a,{bg:"light",expand:"sm",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(pe,{showsList:t})})})})})})},xe=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],showLinkListItem:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{C.get("tours/"+this.props.match.params.tour).then((function(t){console.log(t.data),e.setState({data:t.data.data.shows,isLoading:!1})}))}catch(t){console.error(t)}}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(pe,{showsList:this.state.data})})})})})}}]),a}(n.Component),fe=function(e){return e.shows.tracks.map((function(e){return Object(d.jsx)(be,{show:e},e.id)}))},me=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],showLinkListItem:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{C.get("songs/"+this.props.match.params.song).then((function(t){e.setState({data:t.data.data,isLoading:!1})}))}catch(t){console.error(t)}}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(fe,{shows:this.state.data})})})})})}}]),a}(n.Component),ge=function(e){return e.sort((function(e,t){var a=e.date.toUpperCase(),n=t.date.toUpperCase(),s=0;return a<n&&(s=-1),a>n&&(s=1),s}))},ye=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],shows:[],showLinkListItem:null,isLoading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("venues/"+this.props.match.params.venue).then((function(e){console.log(e.data),t.setState({data:e.data.data.show_ids}),t.getShows()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getShows",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.state.data.map((function(e){C.get("shows/"+e).then((function(e){t.state.shows.push(e.data.data),t.state.shows.length===t.state.data.length&&(t.setState({isLoading:!1}),t.sortVenueShowDates())}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"sortVenueShowDates",value:function(){this.setState({data:ge(this.state.shows)})}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)(b.a,{animation:"border"}):Object(d.jsx)(J.a,{bg:"light",expand:"sm",children:Object(d.jsx)(D.a,{children:Object(d.jsx)("div",{className:"container bvg",children:Object(d.jsx)("div",{className:"btn-group-vertical",children:Object(d.jsx)(pe,{showsList:this.state.shows})})})})})}}]),a}(n.Component),we=a(96),Ne=a(60),ke=a(94),Se=a(13),Le=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleRoute=function(e){return function(){n.props.history.push({pathname:e})}},n.handleSearchInput=function(e){n.setState({searchText:e.target.value})},n.handleSearchSubmit=function(){n.state.searchText&&n.state.searchText.length>=3?n.props.history.push({pathname:"/PhishApp/search?term="+n.state.searchText,state:{searchText:n.state.searchText}}):n.state.searchText&&n.state.searchText.length<3?alert("Search term must be longer than 3 characters"):alert("Please enter some search text!")},n.state={searchText:""},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(J.a,{bg:"light",expand:"lg",children:[Object(d.jsx)(J.a.Brand,{onClick:this.handleRoute("/PhishApp"),children:"PhishApp"}),Object(d.jsx)(J.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsxs)(J.a.Collapse,{id:"basic-navbar-nav",children:[Object(d.jsxs)(D.a,{className:"mr-auto",children:[Object(d.jsx)(D.a.Link,{onClick:this.handleRoute("/PhishApp"),children:"Home"}),Object(d.jsx)(D.a.Link,{onClick:this.handleRoute("/PhishApp/about"),children:"About"})]}),Object(d.jsxs)(we.a,{inline:!0,children:[Object(d.jsx)(Ne.a,{onChange:this.handleSearchInput,value:this.state.searchText,type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(d.jsx)(ke.a,{onClick:this.handleSearchSubmit,variant:"outline-info",children:"Search"})]})]})]})})}}]),a}(n.Component),Ae=Object(Se.f)(Le),Ee=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=[];return Object(U.a)(Array(1).keys()).forEach((function(t){return e.push(Object(d.jsx)("h1",{children:"Unable to find that..."},t))})),e}}]),a}(s.a.Component),Pe=function(){var e=Object(p.b)();return Object(d.jsxs)(J.a,{bg:"light",className:"sidebar",children:[Object(d.jsx)(D.a,{className:"mr-auto",children:Object(d.jsx)(u.b,{to:"/PhishApp/years",className:"nav-link",onClick:function(){return e(E.yearsAction.getYears())},children:"Years"})}),Object(d.jsx)(D.a,{className:"mr-auto",children:Object(d.jsx)(u.b,{to:"/PhishApp/tours",className:"nav-link",children:"Tours"})}),Object(d.jsx)(D.a,{className:"mr-auto",children:Object(d.jsx)(u.b,{to:"/PhishApp/venues",className:"nav-link",children:"Venues"})}),Object(d.jsx)(D.a,{className:"mr-auto",children:Object(d.jsx)(u.b,{to:"/PhishApp/songs",className:"nav-link",children:"Songs"})})]})},Te=function(){return Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(Ae,{}),Object(d.jsxs)("div",{className:"side-and-content",children:[Object(d.jsx)(Pe,{}),Object(d.jsx)("div",{className:"content-pane",children:Object(d.jsxs)(Se.c,{children:[Object(d.jsx)(Se.a,{exact:!0,path:"/",component:F}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp",component:F}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/about",component:R}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/search?term=:searchText",component:Oe}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/tours",component:re}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/songs",component:le}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/years",component:Z}),Object(d.jsx)(Se.a,{exact:!0,path:"/PhishApp/venues",component:je}),Object(d.jsx)(Se.a,{path:"/PhishApp/years/:year",component:ve}),Object(d.jsx)(Se.a,{path:"/PhishApp/shows/:date",component:X}),Object(d.jsx)(Se.a,{path:"/PhishApp/tours/:tour",component:xe}),Object(d.jsx)(Se.a,{path:"/PhishApp/songs/:song",component:me}),Object(d.jsx)(Se.a,{path:"/PhishApp/venues/:venue",component:ye}),Object(d.jsx)(Se.a,{component:Ee})]})})]}),Object(d.jsx)("div",{className:"footer",children:"\xa9 2021 Caleb Tracey"})]})})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))},Ce=a(32),De=a(12),Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoadingData:{},yearList:{}},t=arguments.length>1?arguments[1]:void 0;switch(console.log("action type => ",t.type),t.type){case O:return Object(De.a)(Object(De.a)({},e),{},{yearList:t.payload.data});case N:if(t.payload===v)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!0});break;case k:if(t.payload===v)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!1})}return e},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoadingData:[],year:{},showList:[]},t=arguments.length>1?arguments[1]:void 0;switch(console.log("action type => ",t.type),t.type){case x:return Object(De.a)(Object(De.a)({},e),{},{showList:t.payload.data});case y:return Object(De.a)(Object(De.a)({},e),{},{year:t.payload});case N:if(t.payload===f)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!0});break;case k:if(t.payload===f)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!1})}return e},Ie={isLoadingData:{},tourData:[],tourList:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action type => ",t),t.type){case m:return Object(De.a)(Object(De.a)({},e),{},{tourData:[].concat(Object(U.a)(e.tourData),Object(U.a)(t.payload.data))});case N:if(t.payload===g)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!0});break;case k:if(t.payload===g)return Object(De.a)(Object(De.a)({},e),{},{isLoadingData:!1})}return e},Me=Object(Ce.b)({years:Fe,shows:Re,tours:Ue}),Ye=a(40),Ve=function(e){var t=e.dispatch;return function(e){return function(a){if(console.log(a),e(a),a.type===w){var n=a.payload,s=n.url,r=n.method,c=n.data,i=n.onSuccess,o=n.onFailure,l=n.label,h=n.headers,u=["GET","DELETE"].includes(r)?"params":"data";l&&t(function(e){return{type:N,payload:e}}(l)),console.log(h),C.request(Object(Ye.a)({url:s,method:r,headers:h},u,c)).then((function(e){var a=e.data;t(i(a))})).catch((function(e){t(function(e){return{type:"API_ERROR",error:e}}(e)),t(o(e)),e.response&&403===e.response.status&&t(function(e){return{type:"ACCESS_DENIED",payload:{url:e}}}(window.location.pathname))})).finally((function(){l&&t(function(e){return{type:k,payload:e}}(l))}))}}}},ze=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ce.c)(Object(Ce.a)(Ve)),He=Object(Ce.d)(Me,ze);c.a.render(Object(d.jsx)(p.a,{store:He,children:Object(d.jsx)(Te,{})}),document.getElementById("root")),_e()}},[[92,1,2]]]);
//# sourceMappingURL=main.02b108e0.chunk.js.map